# PLCデータリンクオブジェクト

## PLCLinkObj

## 機能概要

このオブジェクトは、各種のPLC等のフラットなデータ保持空間を持つ計測制御機器のデータを通信により取得するノードと、そのデータの処理やクラウドへの送出を行うノードの間で、取得したデータを一時的に保持するためのFlowコンテキストのオブジェクトである。通信によりデータを取得するnodeがデータの取得先のアドレスを取得する為にも使用する。

## オブジェクト構造

| 名称 | 種別 | 説明 |
|:----------|:-----:|:--------------------|
| name| string| オブジェクトインスタンスの名称|
|timestamp|string|Modbus機器との通信によりデータを取得し、このオブジェクトを更新した最後のタイムスタンプ。|
|objData|object|通信により取得したデータを格納するオブジェクト。|

objDataの構造

| 名称 | 種別 | 説明 |
|:----------|:-----:|:--------------------|
|address|string|取得するデータのアドレス。通信プロトコールに依存した表現。|
|value|number/string/ boolean|通信により取得したデータを格納するオブジェクト。表現は対象機器に依存する。|
|notify| boolean |データの変化時に出力メッセージにアドレスを出力するかのフラグ|

Modbusの例
```
flow.mobusLinkObj = {
	"name": "fooPLC",
	"timestamp": "",
	"objData": {
		[{
			"address": "2:4123",
			"notify": true,
			"value": 567
		},{
			"address": "1:4678",
			"notify": true,
			"value": 2795
		},{
			"address": "1:1748",
			"notify": false,
			"value": 12
		}]
	}
}
```
